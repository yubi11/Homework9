# 🎮 [9번 과제] 숫자 야구 멀티플레이어 게임

## 📝 프로젝트 소개
언리얼 엔진 5와 C++를 사용하여 구현한 턴제 기반 멀티플레이어 숫자 야구 게임입니다. 플레이어들이 순서대로 비밀 숫자를 맞추는 게임으로, 시간 제한 시스템, 개선된 UI 시스템, 자동 게임 진행 및 종료 시스템, 턴 전환 시스템, 멀티플레이어 동기화 등의 핵심 기능을 포함합니다.

## 🌟 주요 기능
- 필수 기능 대부분은 CH4 강의의 실습내용을 활용했습니다.
- 도전 기능 위주로 설명하겠습니다.
### 1. **턴제 시스템**
- 플레이어들이 순서대로 턴을 가지는 시퀀스 기반 시스템
- 현재 턴인 플레이어만 숫자 추측 가능
- 턴이 아닌 플레이어의 입력은 자동으로 차단
- <img width="1278" height="506" alt="캡처_2025_09_08_20_44_03_942" src="https://github.com/user-attachments/assets/f875c1bd-968a-41bc-8bb3-4ecd292595ef" />

### 2. **시간 제한 시스템** 
- 각 턴마다 30초의 제한 시간 부여
- 실시간 카운트다운을 모든 플레이어에게 표시
- 시간 초과 시 자동으로 기회 소진 처리
- <img width="415" height="70" alt="캡처_2025_09_08_20_44_18_735" src="https://github.com/user-attachments/assets/6a6532f3-b27f-4755-8920-ddc91d777559" />
- <img width="415" height="70" alt="캡처_2025_09_08_20_44_15_22" src="https://github.com/user-attachments/assets/a752c7ad-12ed-442c-ad40-cc5c97ec5d92" />



### 3. **개선된 UI 시스템**
- 각 플레이어별 개인화된 메시지 표시 ("Your Turn!" 또는 "Waiting...")
- Replicated 변수를 통한 실시간 UI 업데이트
- 게임 상태별 적절한 안내 메시지 제공

### 4. **자동 게임 진행 및 종료 시스템**
- 플레이어가 정답을 맞추거나 모든 플레이어가 기회를 소진하면 자동 종료
- 게임 종료 후 3초 뒤 자동으로 새 게임 시작
- 새로운 비밀 번호 자동 생성 및 플레이어 상태 초기화

### 5. **스마트 턴 전환 시스템**
- 기회를 소진한 플레이어는 자동으로 턴에서 제외
- 무한루프 방지 로직 포함
- 모든 플레이어 접속 완료 후 자동 게임 시작

### 6. **멀티플레이어 동기화**
- 서버-클라이언트 구조 기반의 안정적인 네트워킹
- 모든 클라이언트에 실시간 게임 상태 동기화
- Client RPC를 통한 안전하고 신뢰성 있는 네트워크 통신
- 각 플레이어별 맞춤형 메시지 전송

## 🛠 설치 및 실행 가이드

### 필요 환경
- **언리얼 엔진 5.5.4**
- **Visual Studio 2022** (C++ 개발 도구 포함)
- **Windows 10/11** 운영체제

### 설치 방법
1. 저장소를 클론합니다:
```bash
git clone [저장소 URL]
```

2. 언리얼 엔진 5에서 프로젝트를 엽니다.

3. 툴바의 "빌드" 옵션에서 프로젝트를 빌드합니다.

4. 빌드가 성공하면 "플레이" 버튼을 클릭하여 게임을 시작합니다.

### 멀티플레이어 테스트 방법
1. **플레이** 버튼 옆 드롭다운 → **고급 설정** 클릭
2. **멀티플레이어 옵션** 설정:
   - **플레이어 수**: 2명 이상
   - **네트워크 모드**: CH4 멀티플레이 강의에서 제공한 실습 세팅 그대로. (NET 모드: Play as Client)
3. **플레이** 버튼 클릭하여 여러 창으로 테스트

## 🎮 게임 플레이 방법

### 기본 규칙
- **목표**: 서버가 생성한 1~9 사이의 중복되지 않는 3자리 비밀 숫자 맞추기
- **기회**: 각 플레이어마다 최대 3번의 추측 기회
- **턴 시간**: 각 턴마다 30초의 제한 시간

### 판정 시스템
- **Strike (S)**: 숫자와 자리수가 모두 정확
- **Ball (B)**: 숫자는 맞지만 자리수가 틀림  
- **OUT**: 맞는 숫자가 하나도 없음

### 승부 조건
- **승리**: 3S (3 Strike)를 먼저 달성한 플레이어
- **무승부**: 모든 플레이어가 3번의 기회를 모두 사용했지만 아무도 정답을 맞추지 못한 경우

## 🏗️ 기술적 구현 내용

### 핵심 클래스 구조
- **ACH4GameModeBase**: 게임 규칙, 턴 관리, 시간 제한 처리
- **ACH4PlayerController**: 플레이어 입력 처리, UI 관리, RPC 통신
- **ACH4PlayerState**: 플레이어별 상태 정보 (시도 횟수, 이름 등)
- **ACH4GameStateBase**: 전역 게임 상태 관리

### 네트워킹 특징
- **Server-Client 모델**: 서버가 권한을 가지고 게임 상태 관리[1]
- **Replicated Variables**: 실시간 데이터 동기화
- **Client RPC**: 안전한 클라이언트별 메시지 전송
- **Authority Check**: 서버에서만 게임 로직 실행

### 구현된 주요 시스템
1. **기본 숫자 야구 로직**: 비밀번호 생성, 입력 검증, 판정 시스템
2. **턴제 시스템**: 플레이어 순서 관리, 턴 전환 로직
3. **시간 제한**: 30초 타이머, 타임아웃 처리
4. **UI/UX 개선**: 개인화된 메시지, 실시간 상태 표시
5. **네트워크 동기화**: 멀티플레이어 환경에서의 안정적인 통신

### 해결한 기술적 과제
- **무한루프 방지**: 턴 전환 시 안전한 플레이어 검색
- **타이머 동기화**: 모든 클라이언트에서 일관된 시간 표시
- **게임 상태 관리**: 승리/무승부 조건 정확한 판정
- **UI 개인화**: 각 플레이어별 맞춤 메시지 표시

***
